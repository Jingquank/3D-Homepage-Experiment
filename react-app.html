<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Geometric Carousel</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
    }
  </script>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    
    // Make Three.js available globally for the Babel script
    window.THREE = THREE;
    window.GLTFLoader = GLTFLoader;
    window.OrbitControls = OrbitControls;
  </script>
  
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    const customStyles = {
      root: {
        '--void': '#030303',
        '--glass-surface': 'rgba(255, 255, 255, 0.03)',
        '--glass-edge': 'rgba(255, 255, 255, 0.15)',
        '--prism-1': '#00ffff',
        '--prism-2': '#ff00ff',
        '--prism-3': '#ffff00',
        '--matte-white': '#f0f0f0',
        '--font-main': "'Prompt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",
        '--easing': 'cubic-bezier(0.23, 1, 0.32, 1)'
      }
    };

    // Shared 3D Canvas Component - renders all models in a single Three.js scene
    const Shared3DCanvas = ({ items, selectedIndex, theta, onRotate, onSelectedModelScreenPos }) => {
      const containerRef = useRef(null);
      const sceneRef = useRef(null);
      const rendererRef = useRef(null);
      const cameraRef = useRef(null);
      const carouselGroupRef = useRef(null);
      const modelsRef = useRef([]);
      const frameRef = useRef(null);
      const thetaRef = useRef(theta);
      const selectedIndexRef = useRef(selectedIndex);
      const tiltMouseRef = useRef({ x: 0, y: 0 });
      const raycasterRef = useRef(null);
      const mouseRef = useRef(new window.THREE.Vector2());
      const onSelectedModelScreenPosRef = useRef(onSelectedModelScreenPos);

      // Update refs when props change
      thetaRef.current = theta;
      selectedIndexRef.current = selectedIndex;
      onSelectedModelScreenPosRef.current = onSelectedModelScreenPos;

      useEffect(() => {
        if (!containerRef.current || !window.THREE) return;

        const THREE = window.THREE;
        const GLTFLoader = window.GLTFLoader;

        // Scene setup
        const scene = new THREE.Scene();
        sceneRef.current = scene;

        // Camera - positioned to view the carousel
        const camera = new THREE.PerspectiveCamera(
          50,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.set(0, 1.5, 12);
        camera.lookAt(0, 1.5, 0); // Look at carousel center
        cameraRef.current = camera;

        // Renderer
        const renderer = new THREE.WebGLRenderer({
          antialias: true,
          alpha: true
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setClearColor(0x000000, 0);
        if (THREE.SRGBColorSpace) renderer.outputColorSpace = THREE.SRGBColorSpace;
        renderer.domElement.style.position = 'absolute';
        renderer.domElement.style.top = '0';
        renderer.domElement.style.left = '0';
        renderer.domElement.style.width = '100%';
        renderer.domElement.style.height = '100%';
        renderer.domElement.style.pointerEvents = 'auto';
        rendererRef.current = renderer;
        containerRef.current.appendChild(renderer.domElement);

        raycasterRef.current = new THREE.Raycaster();

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
        directionalLight.position.set(5, 10, 7.5);
        scene.add(directionalLight);

        const fillLight = new THREE.DirectionalLight(0xffffff, 0.4);
        fillLight.position.set(-5, 5, 5);
        scene.add(fillLight);

        const backLight = new THREE.DirectionalLight(0xB8FF38, 0.3);
        backLight.position.set(-5, 5, -5);
        scene.add(backLight);

        const rimLight = new THREE.DirectionalLight(0x00ffff, 0.2);
        rimLight.position.set(0, -5, -10);
        scene.add(rimLight);

        // Carousel group - this will rotate (raised so it's centered on the page)
        const carouselGroup = new THREE.Group();
        carouselGroup.position.y = 1.5;
        scene.add(carouselGroup);
        carouselGroupRef.current = carouselGroup;

        // Carousel radius in 3D space
        const carouselRadius = 6;
        const totalItems = items.length;

        // Load all models
        const loader = new GLTFLoader();
        modelsRef.current = [];

        items.forEach((item, index) => {
          if (item.modelPath) {
            // Create a group for each model position
            const modelGroup = new THREE.Group();

            // Position on carousel circle (index 0 at front, going clockwise)
            const angle = -(index / totalItems) * Math.PI * 2;
            modelGroup.position.set(
              Math.sin(angle) * carouselRadius,
              0,
              Math.cos(angle) * carouselRadius
            );
            modelGroup.rotation.y = angle + Math.PI; // Face outward

            carouselGroup.add(modelGroup);
            modelsRef.current[index] = { group: modelGroup, model: null };

            // Load the model
            loader.load(
              item.modelPath,
              (gltf) => {
                const model = gltf.scene;

                model.traverse((child) => {
                  if (child.isMesh) child.userData.index = index;
                });

                // Center and scale model
                const box = new THREE.Box3().setFromObject(model);
                const center = box.getCenter(new THREE.Vector3());
                const size = box.getSize(new THREE.Vector3());
                const scale = 2.5 / Math.max(size.x, size.y, size.z);
                
                model.scale.setScalar(scale);
                model.position.set(
                  -center.x * scale,
                  -center.y * scale - 0.3,
                  -center.z * scale
                );

                modelGroup.add(model);
                modelsRef.current[index].model = model;
              },
              undefined,
              (error) => console.error('Error loading model:', error)
            );
          }
        });

        // Handle window resize
        const handleResize = () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        };
        window.addEventListener('resize', handleResize);

        // Click on model to rotate: right-side model = next, left-side model = prev
        const handleClick = (event) => {
          const rect = renderer.domElement.getBoundingClientRect();
          mouseRef.current.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
          mouseRef.current.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

          raycasterRef.current.setFromCamera(mouseRef.current, camera);

          const meshes = [];
          modelsRef.current.forEach((entry) => {
            if (entry?.model) {
              entry.model.traverse((child) => {
                if (child.isMesh) meshes.push(child);
              });
            }
          });

          const intersects = raycasterRef.current.intersectObjects(meshes, false);
          if (intersects.length === 0 || intersects[0].object.userData.index === undefined) return;

          const clickedIndex = intersects[0].object.userData.index;
          const current = selectedIndexRef.current;
          const n = totalItems;
          const nextIndex = (current + 1) % n;
          const prevIndex = (current - 1 + n) % n;

          if (clickedIndex === nextIndex && onRotate) onRotate(1);
          else if (clickedIndex === prevIndex && onRotate) onRotate(-1);
        };
        renderer.domElement.addEventListener('click', handleClick);

        // Mouse-based tilt (normalized -1 to 1, center = 0)
        const handleMouseMove = (e) => {
          tiltMouseRef.current.x = (e.clientX / window.innerWidth) * 2 - 1;
          tiltMouseRef.current.y = -(e.clientY / window.innerHeight) * 2 + 1;
        };
        window.addEventListener('mousemove', handleMouseMove);

        // Animation loop
        let currentRotation = 0;
        let currentTiltX = 0;
        let currentTiltZ = 0;
        const tiltStrength = 0.06; // max ~3.5 degrees
        const tiltLerp = 0.06;

        const animate = () => {
          frameRef.current = requestAnimationFrame(animate);

          // Smoothly interpolate carousel rotation based on theta
          const targetRotation = (thetaRef.current * Math.PI) / 180;
          currentRotation += (targetRotation - currentRotation) * 0.08;
          carouselGroup.rotation.y = currentRotation;

          // Subtle tilt based on mouse (lerped for smoothness)
          const targetTiltX = tiltMouseRef.current.y * tiltStrength;
          const targetTiltZ = tiltMouseRef.current.x * tiltStrength;
          currentTiltX += (targetTiltX - currentTiltX) * tiltLerp;
          currentTiltZ += (targetTiltZ - currentTiltZ) * tiltLerp;
          carouselGroup.rotation.x = currentTiltX;
          carouselGroup.rotation.z = currentTiltZ;

          // Report selected model screen position for connecting line
          const reportPos = onSelectedModelScreenPosRef.current;
          if (reportPos) {
            const entry = modelsRef.current[selectedIndexRef.current];
            if (entry?.group) {
              const worldPos = new THREE.Vector3();
              entry.group.getWorldPosition(worldPos);
              worldPos.project(camera);
              const rect = renderer.domElement.getBoundingClientRect();
              const screenX = (worldPos.x * 0.5 + 0.5) * rect.width + rect.left;
              const screenY = (-worldPos.y * 0.5 + 0.5) * rect.height + rect.top;
              reportPos(screenX, screenY);
            }
          }

          // Update individual model rotations and opacity
          modelsRef.current.forEach((item, index) => {
            if (item && item.model) {
              const isActive = index === selectedIndexRef.current;

              // Active model spins slowly
              if (isActive) {
                item.model.rotation.y += 0.005;
              }

              // Scale based on selection
              const targetScale = isActive ? 1.15 : 0.9;
              item.group.scale.lerp(
                new THREE.Vector3(targetScale, targetScale, targetScale),
                0.1
              );

              // Adjust opacity/material for non-active items
              item.model.traverse((child) => {
                if (child.isMesh && child.material) {
                  if (Array.isArray(child.material)) {
                    child.material.forEach((mat) => {
                      if (mat.opacity !== undefined) {
                        mat.transparent = true;
                        mat.opacity = isActive ? 1 : 0.6;
                      }
                    });
                  } else {
                    child.material.transparent = true;
                    child.material.opacity = isActive ? 1 : 0.6;
                  }
                }
              });
            }
          });

          renderer.render(scene, camera);
        };
        animate();

        // Cleanup
        return () => {
          if (frameRef.current) {
            cancelAnimationFrame(frameRef.current);
          }
          window.removeEventListener('resize', handleResize);
          window.removeEventListener('mousemove', handleMouseMove);
          renderer.domElement.removeEventListener('click', handleClick);
          if (rendererRef.current && containerRef.current) {
            containerRef.current.removeChild(rendererRef.current.domElement);
            rendererRef.current.dispose();
          }
        };
      }, [items]);

      return (
        <div
          ref={containerRef}
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            pointerEvents: 'auto',
            zIndex: 2
          }}
        />
      );
    };

    const HomePage = () => {
      // Carousel items data
      const defaultData = [
        {
          name: "McCree",
          desc: "Legendary gunslinger from the Overwatch universe. A stylized cowboy character with detailed texturing and dynamic pose.",
          poly: "8k",
          mat: "Stylized PBR",
          rig: "Humanoid",
          class: "item-3d",
          modelPath: "3DModels/McCree/scene.gltf"
        },
        {
          name: "Sekiro",
          desc: "The one-armed wolf from Sengoku-era Japan. A shinobi warrior featuring intricate armor and prosthetic arm details.",
          poly: "12k",
          mat: "PBR Metal",
          rig: "Humanoid",
          class: "item-3d",
          modelPath: "3DModels/Sekiro/scene.gltf"
        },
        {
          name: "Lara Croft",
          desc: "The iconic tomb raider explorer. Athletic adventurer with realistic textures and equipment details.",
          poly: "15k",
          mat: "Realistic PBR",
          rig: "Humanoid",
          class: "item-3d",
          modelPath: "3DModels/Lara/scene.gltf"
        },
        {
          name: "Aya",
          desc: "Ancient Egyptian warrior from the Assassin's Creed universe. Features detailed period-accurate armor and weapons.",
          poly: "10k",
          mat: "Historical PBR",
          rig: "Humanoid",
          class: "item-3d",
          modelPath: "3DModels/Aya/scene.gltf"
        },
        {
          name: "Goose",
          desc: "The mischievous waterfowl from Untitled Goose Game. A low-poly stylized character with charm and personality.",
          poly: "2k",
          mat: "Toon Shader",
          rig: "Avian",
          class: "item-3d",
          modelPath: "3DModels/Goose/scene.gltf"
        }
      ];

      const [data, setData] = useState(defaultData);
      const [theta, setTheta] = useState(0);
      const [selectedIndex, setSelectedIndex] = useState(0);
      const [panelOpacity, setPanelOpacity] = useState(1);
      const [modelScreenPos, setModelScreenPos] = useState({ x: 0, y: 0 });
      const [viewportSize, setViewportSize] = useState(() => ({
        width: typeof window !== 'undefined' ? window.innerWidth : 1920,
        height: typeof window !== 'undefined' ? window.innerHeight : 1080
      }));
      const [panelRect, setPanelRect] = useState(null);
      const detailsPanelRef = useRef(null);

      const setDetailsPanelRef = useCallback((el) => {
        detailsPanelRef.current = el;
        setPanelRect(el ? el.getBoundingClientRect() : null);
      }, []);

      useEffect(() => {
        const onResize = () => {
          setViewportSize({ width: window.innerWidth, height: window.innerHeight });
          setPanelRect(detailsPanelRef.current ? detailsPanelRef.current.getBoundingClientRect() : null);
        };
        window.addEventListener('resize', onResize);
        return () => window.removeEventListener('resize', onResize);
      }, []);

      // Measure panel after paint so line has valid target on first frame
      useEffect(() => {
        const t = requestAnimationFrame(() => {
          if (detailsPanelRef.current) setPanelRect(detailsPanelRef.current.getBoundingClientRect());
        });
        return () => cancelAnimationFrame(t);
      }, []);

      const rotateCarousel = (direction) => {
        setPanelOpacity(0.5);
        
        let newIndex = selectedIndex + direction;
        if (newIndex < 0) newIndex = data.length - 1;
        if (newIndex >= data.length) newIndex = 0;
        
        setSelectedIndex(newIndex);
        
        const degreesPerItem = 360 / data.length;
        setTheta(prev => prev + direction * degreesPerItem);
        
        setTimeout(() => {
          setPanelOpacity(1);
        }, 200);
      };

      // Derive display index from theta so the panel always matches the carousel rotation
      const degreesPerItem = 360 / data.length;
      const normalizedTheta = ((theta % 360) + 360) % 360;
      const displayIndex = Math.round(normalizedTheta / degreesPerItem) % data.length;
      const currentItem = data[displayIndex];

      return (
        <div style={{ 
          minHeight: '100vh',
          width: '100%',
          backgroundColor: '#000000',
          color: 'white',
          fontFamily: 'var(--font-main)',
          height: '100vh',
          overflow: 'hidden',
          display: 'flex',
          flexDirection: 'column',
          position: 'relative',
          ...customStyles.root
        }}>
          {/* Dark noise colored background */}
          <div
            style={{
              position: 'absolute',
              inset: 0,
              zIndex: 1,
              background: '#000000',
              backgroundImage: `
                radial-gradient(circle at 1px 1px, rgba(139, 92, 246, 0.2) 1px, transparent 0),
                radial-gradient(circle at 1px 1px, rgba(59, 130, 246, 0.18) 1px, transparent 0),
                radial-gradient(circle at 1px 1px, rgba(236, 72, 153, 0.15) 1px, transparent 0)
              `,
              backgroundSize: '20px 20px, 30px 30px, 25px 25px',
              backgroundPosition: '0 0, 10px 10px, 15px 5px',
              pointerEvents: 'none'
            }}
          />
          <div className="ambient-light" style={{
            position: 'fixed',
            width: '100vw',
            height: '100vh',
            pointerEvents: 'none',
            background: 'radial-gradient(circle at 20% 50%, rgba(40, 40, 60, 0.4) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(60, 40, 40, 0.2) 0%, transparent 40%)',
            zIndex: 0
          }}></div>

          {/* Shared 3D Canvas for all models */}
          <Shared3DCanvas
            items={data}
            selectedIndex={displayIndex}
            theta={theta}
            onRotate={rotateCarousel}
            onSelectedModelScreenPos={(x, y) => setModelScreenPos({ x, y })}
          />

          {/* UI Overlay */}
          <div className="ui-overlay" style={{
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            pointerEvents: 'none',
            zIndex: 10
          }}>
            {/* Animated connecting line: selected model -> details panel (above panel, below header) */}
            {viewportSize.width > 0 && typeof modelScreenPos.x === 'number' && typeof modelScreenPos.y === 'number' && (
              (() => {
                const mx = modelScreenPos.x;
                const my = modelScreenPos.y;
                const panelCenterY = panelRect ? panelRect.top + panelRect.height / 2 : viewportSize.height - 120;
                const panelLeft = panelRect ? panelRect.left : 24;
                const cornerX = Math.min(mx - 80, panelLeft + 50);
                const pathD = `M ${mx} ${my} L ${cornerX} ${my} L ${cornerX} ${panelCenterY} L ${panelLeft} ${panelCenterY}`;
                return (
                  <div style={{
                    position: 'absolute',
                    inset: 0,
                    pointerEvents: 'none',
                    zIndex: 15,
                    isolation: 'isolate'
                  }}>
                    <svg
                      className="connecting-line-svg"
                      style={{
                        position: 'absolute',
                        left: 0,
                        top: 0,
                        width: '100%',
                        height: '100%',
                        pointerEvents: 'none',
                        overflow: 'visible'
                      }}
                      viewBox={`0 0 ${viewportSize.width} ${viewportSize.height}`}
                      preserveAspectRatio="none"
                    >
                      <path
                        d={pathD}
                        fill="none"
                        stroke="rgba(255,255,255,0.75)"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                        strokeDasharray="8 6"
                        style={{ animation: 'connectingLineFlow 1.2s linear infinite' }}
                      />
                      <circle cx={mx} cy={my} r="5" fill="rgba(255,255,255,0.95)" />
                    </svg>
                  </div>
                );
              })()
            )}

            <header style={{
              position: 'absolute',
              top: 'clamp(1rem, 2vw, 2rem)',
              left: 'clamp(1rem, 3vw, 3rem)',
              right: 'clamp(1rem, 3vw, 3rem)',
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center',
              zIndex: 100,
              pointerEvents: 'auto',
              flexWrap: 'wrap',
              gap: '1rem'
            }}>
              <a href="/" style={{ display: 'flex', alignItems: 'center' }}>
                <svg width="156" height="24" viewBox="0 0 156 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.93363 0C10.1479 2.50039e-06 10.3421 0.12272 10.4287 0.3125L13.544 7.13281C13.7341 7.54907 14.3432 7.54907 14.5332 7.13281L17.6485 0.3125C17.7351 0.122718 17.9293 0 18.1436 0H27.1377C27.5207 8.74289e-05 27.782 0.374478 27.6397 0.71875L18.1455 23.6709C18.0632 23.8696 17.8647 23.9999 17.6436 24H10.4336C10.2125 24 10.014 23.8696 9.93167 23.6709L0.437533 0.71875C0.29523 0.37446 0.556512 5.78647e-05 0.939486 0H9.93363ZM38.5655 0C38.8644 0 39.1075 0.234912 39.1075 0.524414V23.4756C39.1075 23.7651 38.8644 24 38.5655 24H29.2149C28.9161 23.9998 28.6739 23.7649 28.6739 23.4756V0.524414C28.6739 0.235058 28.9161 0.000236908 29.2149 0H38.5655ZM101.152 0C101.451 0.000189651 101.693 0.235029 101.693 0.524414V14.0225C101.694 14.3118 101.936 14.5468 102.234 14.5469L107.699 13.5518C108.008 13.5224 108.241 13.7867 108.241 14.0762V23.4756C108.241 23.7651 107.998 24 107.699 24H91.125C90.8261 24 90.584 23.7651 90.584 23.4756V0.524414C90.584 0.234912 90.8261 -8.40768e-10 91.125 0H101.152ZM127.459 0C127.758 0.000202487 128 0.235037 128 0.524414V6.57031C128 6.85969 127.758 7.09452 127.459 7.09473H118.578C118.279 7.09473 118.037 7.32964 118.037 7.61914V8.14062C118.037 8.43013 118.279 8.66504 118.578 8.66504H125.904C126.203 8.66504 126.445 8.89995 126.445 9.18945V14.8105C126.445 15.1 126.203 15.335 125.904 15.335H118.578C118.279 15.335 118.037 15.5699 118.037 15.8594V16.3809C118.037 16.6704 118.279 16.9053 118.578 16.9053H127.459C127.758 16.9055 128 17.1403 128 17.4297V23.4756C128 23.765 127.758 23.9998 127.459 24H110.175C109.876 24 109.634 23.7651 109.634 23.4756V0.524414C109.634 0.234912 109.876 0 110.175 0H127.459ZM62.1836 0.0146484C62.623 0.0146843 62.9795 0.371252 62.9795 0.810547V6.88965C62.9795 7.32894 62.623 7.68551 62.1836 7.68555H49.6641C49.2248 7.68555 48.8683 8.04127 48.8682 8.48047V13.4561C48.8682 13.8954 49.2247 14.252 49.6641 14.252H52.7285C53.1678 14.2518 53.5235 13.8953 53.5235 13.4561V9.44824C53.5237 8.96103 53.9587 8.58818 54.4405 8.66211L63.4746 10.0488C63.8627 10.1086 64.1494 10.4424 64.1494 10.835V23.1895C64.1494 23.6288 63.793 23.9853 63.3535 23.9854H41.295C40.8556 23.9853 40.4991 23.6287 40.4991 23.1895V0.810547C40.4991 0.37127 40.8556 0.0147147 41.295 0.0146484H62.1836ZM87.2256 0.0146484C87.665 0.0146534 88.0215 0.371233 88.0215 0.810547V6.88965C88.0215 7.32896 87.665 7.68554 87.2256 7.68555H74.7061C74.2668 7.68555 73.9103 8.04127 73.9102 8.48047V13.4561C73.9102 13.8954 74.2667 14.252 74.7061 14.252H77.7705C78.2099 14.2518 78.5664 13.8953 78.5664 13.4561V9.44824C78.5667 8.96103 79.0007 8.58818 79.4825 8.66211L88.5166 10.0488C88.9047 10.1086 89.1914 10.4424 89.1914 10.835V23.1895C89.1914 23.6288 88.835 23.9854 88.3955 23.9854H66.3369C65.8976 23.9853 65.541 23.6287 65.541 23.1895V0.810547C65.541 0.371289 65.8976 0.0147456 66.3369 0.0146484H87.2256Z" fill="#FAFAFA"/>
                  <path d="M132 12C132 5.37258 137.373 0 144 0C150.627 0 156 5.37258 156 12V20.6156C156 22.4848 154.485 24 152.616 24H135.384C133.515 24 132 22.4848 132 20.6156V12Z" fill="#A0F900"/>
                  <path d="M141.162 12.9135L141.568 13.5334C142.119 14.3731 141.164 15.3834 140.294 14.8814C138.312 13.7372 137.633 11.2028 138.778 9.2208C139.278 8.35348 140.606 8.74643 140.555 9.74657L140.514 10.5209C140.471 11.367 140.697 12.205 141.162 12.9135Z" fill="#283E00"/>
                  <path d="M137.043 14.0044L137.442 14.6203C137.983 15.4546 137.032 16.4669 136.173 15.971C134.215 14.8407 133.555 12.3176 134.7 10.3356C135.201 9.4683 136.514 9.85305 136.458 10.8504L136.414 11.6226C136.366 12.4663 136.586 13.3006 137.043 14.0044Z" fill="#283E00"/>
                  <path d="M140.977 17.0523L139.508 17.797C137.518 18.8057 138.232 21.8238 140.461 21.8238C145.54 21.8238 149.658 17.6833 149.658 12.5758C149.658 10.3408 146.669 9.61819 145.659 11.609L144.877 13.1504C144.022 14.8345 142.656 16.2012 140.977 17.0523Z" fill="#283E00"/>
                  <path d="M146.527 12.4362C147.278 12.8696 147.535 13.8295 147.102 14.5802C146.668 15.3309 145.708 15.5881 144.958 15.1547L143.968 14.5834C144.314 14.1382 144.618 13.6588 144.876 13.1504L145.531 11.861L146.527 12.4362Z" fill="#FAFAFA"/>
                </svg>
              </a>
              <nav style={{
                display: 'flex',
                gap: '2rem'
              }}>
                <a href="#" className="nav-link" style={{
                  textDecoration: 'none',
                  color: 'rgba(255, 255, 255, 0.6)',
                  fontSize: '0.8rem',
                  textTransform: 'uppercase',
                  letterSpacing: '0.1em',
                  transition: 'color 0.3s',
                  position: 'relative'
                }}>Collection</a>
                <a href="#" className="nav-link" style={{
                  textDecoration: 'none',
                  color: 'rgba(255, 255, 255, 0.6)',
                  fontSize: '0.8rem',
                  textTransform: 'uppercase',
                  letterSpacing: '0.1em',
                  transition: 'color 0.3s',
                  position: 'relative'
                }}>Artists</a>
                <a href="#" className="nav-link" style={{
                  textDecoration: 'none',
                  color: 'rgba(255, 255, 255, 0.6)',
                  fontSize: '0.8rem',
                  textTransform: 'uppercase',
                  letterSpacing: '0.1em',
                  transition: 'color 0.3s',
                  position: 'relative'
                }}>About</a>
              </nav>
            </header>

            <div ref={setDetailsPanelRef} className="details-panel" style={{
              pointerEvents: 'auto',
              width: 'min(350px, calc(100vw - 2rem))',
              maxWidth: '350px',
              background: 'rgba(10, 10, 10, 0.6)',
              backdropFilter: 'blur(10px)',
              border: '1px solid rgba(255, 255, 255, 0.1)',
              padding: 'clamp(1rem, 3vw, 2rem)',
              position: 'absolute',
              left: 'clamp(1rem, 3vw, 3rem)',
              bottom: 'clamp(1rem, 3vw, 3rem)',
              transformStyle: 'preserve-3d',
              transition: 'border-color 0.5s var(--easing), opacity 0.2s',
              opacity: panelOpacity
            }}>
              <div className="mono-label" style={{
                fontFamily: "'Courier New', Courier, monospace",
                fontSize: '0.7rem',
                letterSpacing: '0.1em',
                textTransform: 'uppercase',
                color: 'rgba(255, 255, 255, 0.5)',
                marginBottom: '0.5rem'
              }}>Subject 001</div>
              <h2 style={{
                fontWeight: 400,
                fontSize: '1.5rem',
                letterSpacing: '-0.01em'
              }}>{currentItem.name}</h2>
              <div className="stats-grid" style={{
                display: 'grid',
                gridTemplateColumns: '1fr 1fr',
                gap: '1rem',
                marginTop: '2rem',
                borderTop: '1px solid rgba(255,255,255,0.1)',
                paddingTop: '1rem'
              }}>
                <div className="stat-item">
                  <h4 style={{
                    fontSize: '0.7rem',
                    color: 'rgba(255,255,255,0.4)',
                    textTransform: 'uppercase',
                    letterSpacing: '0.05em',
                    marginBottom: '0.5rem'
                  }}>Poly Count</h4>
                  <span style={{
                    fontSize: '1rem',
                    fontWeight: 500
                  }}>{currentItem.poly}</span>
                </div>
                <div className="stat-item">
                  <h4 style={{
                    fontSize: '0.7rem',
                    color: 'rgba(255,255,255,0.4)',
                    textTransform: 'uppercase',
                    letterSpacing: '0.05em',
                    marginBottom: '0.5rem'
                  }}>Material</h4>
                  <span style={{
                    fontSize: '1rem',
                    fontWeight: 500
                  }}>{currentItem.mat}</span>
                </div>
                <div className="stat-item">
                  <h4 style={{
                    fontSize: '0.7rem',
                    color: 'rgba(255,255,255,0.4)',
                    textTransform: 'uppercase',
                    letterSpacing: '0.05em',
                    marginBottom: '0.5rem'
                  }}>Rigging</h4>
                  <span style={{
                    fontSize: '1rem',
                    fontWeight: 500
                  }}>{currentItem.rig}</span>
                </div>
                <div className="stat-item">
                  <h4 style={{
                    fontSize: '0.7rem',
                    color: 'rgba(255,255,255,0.4)',
                    textTransform: 'uppercase',
                    letterSpacing: '0.05em',
                    marginBottom: '0.5rem'
                  }}>Format</h4>
                  <span style={{
                    fontSize: '1rem',
                    fontWeight: 500
                  }}>.FBX / .OBJ</span>
                </div>
              </div>
              <br />
              <p style={{
                fontSize: '0.9rem',
                lineHeight: 1.6,
                color: 'rgba(255, 255, 255, 0.7)',
                maxWidth: '300px'
              }}>{currentItem.desc}</p>
              <button className="cta-btn" style={{
                marginTop: '2rem',
                background: 'transparent',
                border: '1px solid white',
                color: 'white',
                padding: '1rem 2rem',
                textTransform: 'uppercase',
                fontSize: '0.8rem',
                letterSpacing: '0.1em',
                cursor: 'pointer',
                transition: 'all 0.3s var(--easing)',
                position: 'relative',
                overflow: 'hidden'
              }}>Inspect Model</button>
            </div>

            <div className="controls" style={{
              position: 'absolute',
              bottom: 'clamp(1rem, 3vw, 3rem)',
              right: 'clamp(1rem, 3vw, 3rem)',
              display: 'flex',
              gap: '0.75rem',
              pointerEvents: 'auto'
            }}>
              <button 
                className="control-btn" 
                onClick={() => rotateCarousel(-1)}
                style={{
                  width: '50px',
                  height: '50px',
                  border: '1px solid rgba(255,255,255,0.2)',
                  background: 'transparent',
                  color: 'white',
                  cursor: 'pointer',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  transition: 'all 0.2s',
                  fontSize: '1.2rem'
                }}
              >←</button>
              <button 
                className="control-btn" 
                onClick={() => rotateCarousel(1)}
                style={{
                  width: '50px',
                  height: '50px',
                  border: '1px solid rgba(255,255,255,0.2)',
                  background: 'transparent',
                  color: 'white',
                  cursor: 'pointer',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  transition: 'all 0.2s',
                  fontSize: '1.2rem'
                }}
              >→</button>
            </div>
          </div>
        </div>
      );
    };

    const App = () => {
      useEffect(() => {
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
          * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
          }
          
          body {
            margin: 0;
            padding: 0;
          }

          .connecting-line-svg path {
            stroke-dasharray: 8 6;
          }

          @keyframes connectingLineFlow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: 14; }
          }

          .nav-link:hover {
            color: white !important;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
          }

          .control-btn:hover {
            background: #B8FF38 !important;
            color: #283E00 !important;
            border-color: #B8FF38 !important;
          }

          .cta-btn:hover {
            background: #B8FF38 !important;
            color: #283E00 !important;
            box-shadow: 0 0 20px rgba(184, 255, 56, 0.3);
          }

          .details-panel:hover {
            border-color: rgba(184, 255, 56, 0.4) !important;
          }

          .details-panel::before {
            content: '';
            position: absolute;
            inset: -1px;
            background: 
              linear-gradient(
                var(--gradient-angle, 45deg),
                rgba(184, 255, 56, 0.3),
                transparent 40%,
                rgba(120, 200, 30, 0.2) 50%,
                transparent 60%,
                rgba(184, 255, 56, 0.3)
              );
            background-size: 200% 200%;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.5s;
            filter: url(#noise);
          }

          .details-panel:hover::before {
            opacity: 1;
            animation: gradientShift 4s ease-in-out infinite, gradientAngle 8s linear infinite;
          }

          @keyframes gradientShift {
            0%, 100% {
              background-position: 0% 50%;
            }
            50% {
              background-position: 100% 50%;
            }
          }

          @keyframes gradientAngle {
            0% {
              --gradient-angle: 45deg;
              filter: blur(0px) brightness(1);
            }
            25% {
              filter: blur(1px) brightness(1.1);
            }
            50% {
              --gradient-angle: 225deg;
              filter: blur(0px) brightness(1);
            }
            75% {
              filter: blur(1px) brightness(0.9);
            }
            100% {
              --gradient-angle: 405deg;
              filter: blur(0px) brightness(1);
            }
          }

          @property --gradient-angle {
            syntax: '<angle>';
            initial-value: 45deg;
            inherits: false;
          }

          .details-panel::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0;
            mix-blend-mode: overlay;
            pointer-events: none;
            transition: opacity 0.5s;
          }

          .details-panel:hover::after {
            opacity: 0.15;
            animation: noiseMove 0.5s steps(2) infinite;
          }

          @keyframes noiseMove {
            0% { transform: translate(0, 0); }
            50% { transform: translate(-2px, -2px); }
            100% { transform: translate(2px, 1px); }
          }
        `;
        document.head.appendChild(styleSheet);

        return () => {
          document.head.removeChild(styleSheet);
        };
      }, []);

      return <HomePage />;
    };

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
